<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: G Pages: 1 -->
<svg width="2843pt" height="404pt"
 viewBox="0.00 0.00 2842.75 403.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 399.5)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-399.5 2838.75,-399.5 2838.75,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_api</title>
<polygon fill="lightgrey" stroke="lightgrey" points="490.25,-139.5 490.25,-219.5 738.25,-219.5 738.25,-139.5 490.25,-139.5"/>
<text text-anchor="middle" x="614.25" y="-202.2" font-family="Times,serif" font-size="14.00">API</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_initialization</title>
<polygon fill="lightgrey" stroke="lightgrey" points="76.25,-139.5 76.25,-307.5 482.25,-307.5 482.25,-139.5 76.25,-139.5"/>
<text text-anchor="middle" x="279.25" y="-290.2" font-family="Times,serif" font-size="14.00">Initialization</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_prompt</title>
<polygon fill="lightgrey" stroke="lightgrey" points="1657.25,-139.5 1657.25,-219.5 2232.25,-219.5 2232.25,-139.5 1657.25,-139.5"/>
<text text-anchor="middle" x="1944.75" y="-202.2" font-family="Times,serif" font-size="14.00">Prompt</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_response</title>
<polygon fill="lightgrey" stroke="lightgrey" points="2240.25,-64 2240.25,-219.5 2763.25,-219.5 2763.25,-64 2240.25,-64"/>
<text text-anchor="middle" x="2501.75" y="-202.2" font-family="Times,serif" font-size="14.00">Response</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_utility</title>
<polygon fill="lightgrey" stroke="lightgrey" points="1214.25,-227.5 1214.25,-387.5 1730.25,-387.5 1730.25,-227.5 1214.25,-227.5"/>
<text text-anchor="middle" x="1472.25" y="-370.2" font-family="Times,serif" font-size="14.00">Utility</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_logging</title>
<polygon fill="lightgrey" stroke="lightgrey" points="1333.25,-139.5 1333.25,-219.5 1649.25,-219.5 1649.25,-139.5 1333.25,-139.5"/>
<text text-anchor="middle" x="1491.25" y="-202.2" font-family="Times,serif" font-size="14.00">Logging</text>
</g>
<!-- _call_api -->
<g id="node1" class="node">
<title>_call_api</title>
<g id="a_node1"><a xlink:title="Call the OpenAI API with the given prompts.">
<polygon fill="lightblue" stroke="black" points="729.88,-187 498.62,-187 498.62,-147.5 729.88,-147.5 729.88,-187"/>
<text text-anchor="middle" x="614.25" y="-169.7" font-family="Arial" font-size="14.00">_call_api</text>
<text text-anchor="middle" x="614.25" y="-153.95" font-family="Arial" font-size="14.00">(self, system_prompt, user_prompt)</text>
</a>
</g>
</g>
<!-- error -->
<g id="node25" class="node">
<title>error</title>
<polygon fill="lightblue" stroke="black" points="1147.25,-109.75 1093.25,-109.75 1093.25,-73.75 1147.25,-73.75 1147.25,-109.75"/>
<text text-anchor="middle" x="1120.25" y="-86.33" font-family="Arial" font-size="14.00">error</text>
</g>
<!-- _call_api&#45;&gt;error -->
<g id="edge36" class="edge">
<title>_call_api&#45;&gt;error</title>
<path fill="none" stroke="black" d="M699.11,-147.03C712.51,-144.3 726.23,-141.69 739.25,-139.5 863.81,-118.57 1012.78,-103.01 1081.73,-96.34"/>
<polygon fill="black" stroke="black" points="1081.75,-99.85 1091.37,-95.41 1081.08,-92.88 1081.75,-99.85"/>
</g>
<!-- APIError -->
<g id="node32" class="node">
<title>APIError</title>
<polygon fill="lightblue" stroke="black" points="648.12,-109.75 580.38,-109.75 580.38,-73.75 648.12,-73.75 648.12,-109.75"/>
<text text-anchor="middle" x="614.25" y="-86.33" font-family="Arial" font-size="14.00">APIError</text>
</g>
<!-- _call_api&#45;&gt;APIError -->
<g id="edge34" class="edge">
<title>_call_api&#45;&gt;APIError</title>
<path fill="none" stroke="black" d="M608.26,-147.32C607.53,-139.43 607.33,-130.08 607.65,-121.38"/>
<polygon fill="black" stroke="black" points="611.13,-121.83 608.31,-111.61 604.14,-121.35 611.13,-121.83"/>
</g>
<!-- _call_api&#45;&gt;APIError -->
<g id="edge37" class="edge">
<title>_call_api&#45;&gt;APIError</title>
<path fill="none" stroke="black" d="M620.24,-147.32C620.97,-139.43 621.17,-130.08 620.85,-121.38"/>
<polygon fill="black" stroke="black" points="624.36,-121.35 620.19,-111.61 617.37,-121.83 624.36,-121.35"/>
</g>
<!-- create -->
<g id="node33" class="node">
<title>create</title>
<polygon fill="lightblue" stroke="black" points="720.25,-109.75 666.25,-109.75 666.25,-73.75 720.25,-73.75 720.25,-109.75"/>
<text text-anchor="middle" x="693.25" y="-86.33" font-family="Arial" font-size="14.00">create</text>
</g>
<!-- _call_api&#45;&gt;create -->
<g id="edge35" class="edge">
<title>_call_api&#45;&gt;create</title>
<path fill="none" stroke="black" d="M634.59,-147.32C644.24,-138.35 655.89,-127.51 666.26,-117.86"/>
<polygon fill="black" stroke="black" points="668.55,-120.51 673.49,-111.13 663.78,-115.38 668.55,-120.51"/>
</g>
<!-- __init__ -->
<g id="node2" class="node">
<title>__init__</title>
<g id="a_node2"><a xlink:title="Initialize the email categorizer.">
<polygon fill="lightblue" stroke="black" points="304.25,-275 84.25,-275 84.25,-235.5 304.25,-235.5 304.25,-275"/>
<text text-anchor="middle" x="194.25" y="-257.7" font-family="Arial" font-size="14.00">__init__</text>
<text text-anchor="middle" x="194.25" y="-241.95" font-family="Arial" font-size="14.00">(self, api_key, config_path, config)</text>
</a>
</g>
</g>
<!-- _initialize_client -->
<g id="node3" class="node">
<title>_initialize_client</title>
<g id="a_node3"><a xlink:title="Initialize the OpenAI client with an API key.">
<polygon fill="lightblue" stroke="black" points="355.5,-187 179,-187 179,-147.5 355.5,-147.5 355.5,-187"/>
<text text-anchor="middle" x="267.25" y="-169.7" font-family="Arial" font-size="14.00">_initialize_client</text>
<text text-anchor="middle" x="267.25" y="-153.95" font-family="Arial" font-size="14.00">(self, api_key, config_path)</text>
</a>
</g>
</g>
<!-- __init__&#45;&gt;_initialize_client -->
<g id="edge3" class="edge">
<title>__init__&#45;&gt;_initialize_client</title>
<path fill="none" stroke="black" d="M210.45,-235.16C220.28,-223.58 232.99,-208.61 243.89,-195.77"/>
<polygon fill="black" stroke="black" points="246.31,-198.33 250.11,-188.44 240.98,-193.8 246.31,-198.33"/>
</g>
<!-- upper -->
<g id="node17" class="node">
<title>upper</title>
<polygon fill="lightblue" stroke="black" points="2116.25,-36 2062.25,-36 2062.25,0 2116.25,0 2116.25,-36"/>
<text text-anchor="middle" x="2089.25" y="-12.57" font-family="Arial" font-size="14.00">upper</text>
</g>
<!-- __init__&#45;&gt;upper -->
<g id="edge1" class="edge">
<title>__init__&#45;&gt;upper</title>
<path fill="none" stroke="black" d="M277.39,-235.03C289.72,-232.38 302.3,-229.79 314.25,-227.5 336.35,-223.27 343.53,-228.29 364.25,-219.5 470.17,-174.54 462.65,-102.04 571.25,-64 714.49,-13.82 1828.17,-17.5 2050.65,-18.75"/>
<polygon fill="black" stroke="black" points="2050.48,-22.25 2060.5,-18.81 2050.52,-15.25 2050.48,-22.25"/>
</g>
<!-- CategorizerConfig -->
<g id="node18" class="node">
<title>CategorizerConfig</title>
<polygon fill="lightblue" stroke="black" points="944.62,-185.25 819.88,-185.25 819.88,-149.25 944.62,-149.25 944.62,-185.25"/>
<text text-anchor="middle" x="882.25" y="-161.82" font-family="Arial" font-size="14.00">CategorizerConfig</text>
</g>
<!-- __init__&#45;&gt;CategorizerConfig -->
<g id="edge2" class="edge">
<title>__init__&#45;&gt;CategorizerConfig</title>
<path fill="none" stroke="black" d="M269.38,-235.05C284.16,-231.97 299.62,-229.23 314.25,-227.5 341.67,-224.26 785.04,-228.2 811.25,-219.5 827.74,-214.02 843.65,-203.23 856.22,-192.95"/>
<polygon fill="black" stroke="black" points="858.28,-195.79 863.59,-186.63 853.72,-190.48 858.28,-195.79"/>
</g>
<!-- OpenAI -->
<g id="node19" class="node">
<title>OpenAI</title>
<polygon fill="lightblue" stroke="black" points="298.5,-109.75 236,-109.75 236,-73.75 298.5,-73.75 298.5,-109.75"/>
<text text-anchor="middle" x="267.25" y="-86.33" font-family="Arial" font-size="14.00">OpenAI</text>
</g>
<!-- _initialize_client&#45;&gt;OpenAI -->
<g id="edge4" class="edge">
<title>_initialize_client&#45;&gt;OpenAI</title>
<path fill="none" stroke="black" d="M255.27,-147.32C253.81,-139.43 253.4,-130.08 254.05,-121.38"/>
<polygon fill="black" stroke="black" points="257.5,-121.98 255.38,-111.6 250.56,-121.04 257.5,-121.98"/>
</g>
<!-- _initialize_client&#45;&gt;OpenAI -->
<g id="edge10" class="edge">
<title>_initialize_client&#45;&gt;OpenAI</title>
<path fill="none" stroke="black" d="M267.25,-147.32C267.25,-139.43 267.25,-130.08 267.25,-121.38"/>
<polygon fill="black" stroke="black" points="270.75,-121.62 267.25,-111.62 263.75,-121.62 270.75,-121.62"/>
</g>
<!-- _initialize_client&#45;&gt;OpenAI -->
<g id="edge15" class="edge">
<title>_initialize_client&#45;&gt;OpenAI</title>
<path fill="none" stroke="black" d="M279.23,-147.32C280.69,-139.43 281.1,-130.08 280.45,-121.38"/>
<polygon fill="black" stroke="black" points="283.94,-121.04 279.12,-111.6 277,-121.98 283.94,-121.04"/>
</g>
<!-- debug -->
<g id="node20" class="node">
<title>debug</title>
<polygon fill="lightblue" stroke="black" points="370.25,-109.75 316.25,-109.75 316.25,-73.75 370.25,-73.75 370.25,-109.75"/>
<text text-anchor="middle" x="343.25" y="-86.33" font-family="Arial" font-size="14.00">debug</text>
</g>
<!-- _initialize_client&#45;&gt;debug -->
<g id="edge5" class="edge">
<title>_initialize_client&#45;&gt;debug</title>
<path fill="none" stroke="black" d="M274.85,-147.32C283.09,-137.6 295.21,-125.69 307.17,-115.47"/>
<polygon fill="black" stroke="black" points="309.12,-118.4 314.62,-109.35 304.67,-112.99 309.12,-118.4"/>
</g>
<!-- _initialize_client&#45;&gt;debug -->
<g id="edge11" class="edge">
<title>_initialize_client&#45;&gt;debug</title>
<path fill="none" stroke="black" d="M286.82,-147.32C296.1,-138.35 307.31,-127.51 317.29,-117.86"/>
<polygon fill="black" stroke="black" points="319.46,-120.62 324.22,-111.16 314.6,-115.59 319.46,-120.62"/>
</g>
<!-- _initialize_client&#45;&gt;debug -->
<g id="edge16" class="edge">
<title>_initialize_client&#45;&gt;debug</title>
<path fill="none" stroke="black" d="M298.8,-147.32C309.41,-138.62 320.56,-128.16 329.36,-118.73"/>
<polygon fill="black" stroke="black" points="331.98,-121.05 335.97,-111.24 326.73,-116.42 331.98,-121.05"/>
</g>
<!-- open -->
<g id="node21" class="node">
<title>open</title>
<polygon fill="lightblue" stroke="black" points="442.25,-109.75 388.25,-109.75 388.25,-73.75 442.25,-73.75 442.25,-109.75"/>
<text text-anchor="middle" x="415.25" y="-86.33" font-family="Arial" font-size="14.00">open</text>
</g>
<!-- _initialize_client&#45;&gt;open -->
<g id="edge6" class="edge">
<title>_initialize_client&#45;&gt;open</title>
<path fill="none" stroke="black" d="M307.02,-147.11C326.22,-137.81 349.77,-126.29 377.71,-112.23"/>
<polygon fill="black" stroke="black" points="379.07,-115.47 386.42,-107.84 375.91,-109.22 379.07,-115.47"/>
</g>
<!-- safe_load -->
<g id="node22" class="node">
<title>safe_load</title>
<polygon fill="lightblue" stroke="black" points="74.5,-109.75 0,-109.75 0,-73.75 74.5,-73.75 74.5,-109.75"/>
<text text-anchor="middle" x="37.25" y="-86.33" font-family="Arial" font-size="14.00">safe_load</text>
</g>
<!-- _initialize_client&#45;&gt;safe_load -->
<g id="edge7" class="edge">
<title>_initialize_client&#45;&gt;safe_load</title>
<path fill="none" stroke="black" d="M196.83,-147.05C165.04,-137.97 126.87,-126.51 85.4,-112.12"/>
<polygon fill="black" stroke="black" points="86.81,-108.91 76.22,-108.9 84.5,-115.51 86.81,-108.91"/>
</g>
<!-- get -->
<g id="node23" class="node">
<title>get</title>
<polygon fill="lightblue" stroke="black" points="1683.25,-109.75 1629.25,-109.75 1629.25,-73.75 1683.25,-73.75 1683.25,-109.75"/>
<text text-anchor="middle" x="1656.25" y="-86.33" font-family="Arial" font-size="14.00">get</text>
</g>
<!-- _initialize_client&#45;&gt;get -->
<g id="edge8" class="edge">
<title>_initialize_client&#45;&gt;get</title>
<path fill="none" stroke="black" d="M355.97,-152.39C393.3,-147.49 437.24,-142.48 477.25,-139.5 938.81,-105.18 1057.11,-151.08 1518.25,-111.5 1551.79,-108.62 1589.91,-102.76 1617.72,-98.35"/>
<polygon fill="black" stroke="black" points="1618.15,-101.83 1627.48,-96.8 1617.05,-94.91 1618.15,-101.83"/>
</g>
<!-- _initialize_client&#45;&gt;get -->
<g id="edge14" class="edge">
<title>_initialize_client&#45;&gt;get</title>
<path fill="none" stroke="black" d="M355.74,-154.58C398,-149.05 449.22,-142.92 495.25,-139.5 956.81,-105.18 1075.11,-151.08 1536.25,-111.5 1563.64,-109.15 1594.08,-104.81 1617.55,-100.89"/>
<polygon fill="black" stroke="black" points="1618.05,-104.36 1627.31,-99.21 1616.86,-97.46 1618.05,-104.36"/>
</g>
<!-- ConfigurationError -->
<g id="node24" class="node">
<title>ConfigurationError</title>
<polygon fill="lightblue" stroke="black" points="218.38,-109.75 92.12,-109.75 92.12,-73.75 218.38,-73.75 218.38,-109.75"/>
<text text-anchor="middle" x="155.25" y="-86.33" font-family="Arial" font-size="14.00">ConfigurationError</text>
</g>
<!-- _initialize_client&#45;&gt;ConfigurationError -->
<g id="edge9" class="edge">
<title>_initialize_client&#45;&gt;ConfigurationError</title>
<path fill="none" stroke="black" d="M226.1,-147.13C210.18,-137.8 192.69,-126.48 178.85,-116.59"/>
<polygon fill="black" stroke="black" points="181.26,-114.02 171.13,-110.91 177.11,-119.66 181.26,-114.02"/>
</g>
<!-- _initialize_client&#45;&gt;ConfigurationError -->
<g id="edge13" class="edge">
<title>_initialize_client&#45;&gt;ConfigurationError</title>
<path fill="none" stroke="black" d="M238.12,-147.13C223.76,-137.71 206.32,-126.26 191.15,-116.31"/>
<polygon fill="black" stroke="black" points="193.1,-113.41 182.82,-110.85 189.26,-119.26 193.1,-113.41"/>
</g>
<!-- _initialize_client&#45;&gt;ConfigurationError -->
<g id="edge17" class="edge">
<title>_initialize_client&#45;&gt;ConfigurationError</title>
<path fill="none" stroke="black" d="M250.13,-147.13C237.25,-137.53 219.62,-125.83 202.9,-115.74"/>
<polygon fill="black" stroke="black" points="204.9,-112.85 194.51,-110.78 201.34,-118.88 204.9,-112.85"/>
</g>
<!-- _initialize_client&#45;&gt;error -->
<g id="edge12" class="edge">
<title>_initialize_client&#45;&gt;error</title>
<path fill="none" stroke="black" d="M355.85,-154.45C395.67,-149.4 443.27,-143.71 486.25,-139.5 711.38,-117.46 982.39,-100.75 1081.53,-94.96"/>
<polygon fill="black" stroke="black" points="1081.73,-98.45 1091.51,-94.38 1081.32,-91.46 1081.73,-98.45"/>
</g>
<!-- initialize_openai_client -->
<g id="node4" class="node">
<title>initialize_openai_client</title>
<g id="a_node4"><a xlink:title="Initialize the OpenAI client (backward compatibility).">
<polygon fill="lightblue" stroke="black" points="473.75,-275 322.75,-275 322.75,-235.5 473.75,-235.5 473.75,-275"/>
<text text-anchor="middle" x="398.25" y="-257.7" font-family="Arial" font-size="14.00">initialize_openai_client</text>
<text text-anchor="middle" x="398.25" y="-241.95" font-family="Arial" font-size="14.00">(api_key, config_path)</text>
</a>
</g>
</g>
<!-- EmailCategorizer -->
<g id="node43" class="node">
<title>EmailCategorizer</title>
<polygon fill="lightblue" stroke="black" points="1083.38,-185.25 963.12,-185.25 963.12,-149.25 1083.38,-149.25 1083.38,-185.25"/>
<text text-anchor="middle" x="1023.25" y="-161.82" font-family="Arial" font-size="14.00">EmailCategorizer</text>
</g>
<!-- initialize_openai_client&#45;&gt;EmailCategorizer -->
<g id="edge72" class="edge">
<title>initialize_openai_client&#45;&gt;EmailCategorizer</title>
<path fill="none" stroke="black" d="M473.99,-254.74C604.8,-254.71 867.29,-250.61 953.25,-219.5 969.32,-213.68 984.89,-202.96 997.26,-192.81"/>
<polygon fill="black" stroke="black" points="999.19,-195.76 1004.5,-186.59 994.64,-190.45 999.19,-195.76"/>
</g>
<!-- _create_user_prompt -->
<g id="node5" class="node">
<title>_create_user_prompt</title>
<g id="a_node5"><a xlink:title="Create the user prompt for the OpenAI API.">
<polygon fill="lightblue" stroke="black" points="1830.88,-187 1665.62,-187 1665.62,-147.5 1830.88,-147.5 1830.88,-187"/>
<text text-anchor="middle" x="1748.25" y="-169.7" font-family="Arial" font-size="14.00">_create_user_prompt</text>
<text text-anchor="middle" x="1748.25" y="-153.95" font-family="Arial" font-size="14.00">(self, emails, batch_size)</text>
</a>
</g>
</g>
<!-- _create_user_prompt&#45;&gt;get -->
<g id="edge29" class="edge">
<title>_create_user_prompt&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1700.29,-147.13C1685.97,-138.27 1672.04,-127.62 1662.18,-118.11"/>
<polygon fill="black" stroke="black" points="1664.79,-115.77 1655.4,-110.87 1659.68,-120.56 1664.79,-115.77"/>
</g>
<!-- _create_user_prompt&#45;&gt;get -->
<g id="edge30" class="edge">
<title>_create_user_prompt&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1712.31,-147.13C1699.44,-138.16 1685.62,-127.35 1674.66,-117.74"/>
<polygon fill="black" stroke="black" points="1677.07,-115.2 1667.33,-111.04 1672.35,-120.37 1677.07,-115.2"/>
</g>
<!-- _create_user_prompt&#45;&gt;get -->
<g id="edge31" class="edge">
<title>_create_user_prompt&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1724.56,-147.32C1713.1,-138.17 1699.21,-127.07 1686.96,-117.28"/>
<polygon fill="black" stroke="black" points="1689.15,-114.56 1679.15,-111.05 1684.78,-120.02 1689.15,-114.56"/>
</g>
<!-- _create_user_prompt&#45;&gt;get -->
<g id="edge32" class="edge">
<title>_create_user_prompt&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1736.53,-147.32C1725.12,-136.61 1708.42,-123.24 1692.97,-112.42"/>
<polygon fill="black" stroke="black" points="1695.07,-109.61 1684.83,-106.9 1691.15,-115.4 1695.07,-109.61"/>
</g>
<!-- _create_user_prompt&#45;&gt;get -->
<g id="edge33" class="edge">
<title>_create_user_prompt&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1748.51,-147.32C1737.05,-134.31 1714.93,-117.36 1693.85,-105.83"/>
<polygon fill="black" stroke="black" points="1695.49,-102.74 1684.99,-101.33 1692.32,-108.98 1695.49,-102.74"/>
</g>
<!-- enumerate -->
<g id="node31" class="node">
<title>enumerate</title>
<polygon fill="lightblue" stroke="black" points="1246.88,-109.75 1165.62,-109.75 1165.62,-73.75 1246.88,-73.75 1246.88,-109.75"/>
<text text-anchor="middle" x="1206.25" y="-86.33" font-family="Arial" font-size="14.00">enumerate</text>
</g>
<!-- _create_user_prompt&#45;&gt;enumerate -->
<g id="edge28" class="edge">
<title>_create_user_prompt&#45;&gt;enumerate</title>
<path fill="none" stroke="black" d="M1686.83,-147.01C1675.74,-144.09 1664.22,-141.42 1653.25,-139.5 1484.26,-109.88 1436.94,-142.74 1268.25,-111.5 1264.93,-110.88 1261.53,-110.16 1258.13,-109.35"/>
<polygon fill="black" stroke="black" points="1259.31,-106.04 1248.76,-106.92 1257.56,-112.82 1259.31,-106.04"/>
</g>
<!-- create_email_category_enum -->
<g id="node6" class="node">
<title>create_email_category_enum</title>
<g id="a_node6"><a xlink:title="Create a dynamic EmailCategory enum with the given categories.">
<polygon fill="lightblue" stroke="black" points="2043.88,-187 1848.62,-187 1848.62,-147.5 2043.88,-147.5 2043.88,-187"/>
<text text-anchor="middle" x="1946.25" y="-169.7" font-family="Arial" font-size="14.00">create_email_category_enum</text>
<text text-anchor="middle" x="1946.25" y="-153.95" font-family="Arial" font-size="14.00">(categories)</text>
</a>
</g>
</g>
<!-- create_email_category_enum&#45;&gt;upper -->
<g id="edge68" class="edge">
<title>create_email_category_enum&#45;&gt;upper</title>
<path fill="none" stroke="black" d="M1944.97,-147.3C1944.5,-124.79 1947.17,-87.36 1967.25,-64 1988.17,-39.66 2023.49,-28.47 2050.76,-23.34"/>
<polygon fill="black" stroke="black" points="2051.1,-26.83 2060.39,-21.74 2049.95,-19.93 2051.1,-26.83"/>
</g>
<!-- auto -->
<g id="node40" class="node">
<title>auto</title>
<polygon fill="lightblue" stroke="black" points="2030.25,-109.75 1976.25,-109.75 1976.25,-73.75 2030.25,-73.75 2030.25,-109.75"/>
<text text-anchor="middle" x="2003.25" y="-86.33" font-family="Arial" font-size="14.00">auto</text>
</g>
<!-- create_email_category_enum&#45;&gt;auto -->
<g id="edge69" class="edge">
<title>create_email_category_enum&#45;&gt;auto</title>
<path fill="none" stroke="black" d="M1960.93,-147.32C1967.61,-138.71 1975.62,-128.37 1982.88,-119.02"/>
<polygon fill="black" stroke="black" points="1985.5,-121.35 1988.87,-111.3 1979.97,-117.06 1985.5,-121.35"/>
</g>
<!-- Enum -->
<g id="node41" class="node">
<title>Enum</title>
<polygon fill="lightblue" stroke="black" points="1920.25,-109.75 1866.25,-109.75 1866.25,-73.75 1920.25,-73.75 1920.25,-109.75"/>
<text text-anchor="middle" x="1893.25" y="-86.33" font-family="Arial" font-size="14.00">Enum</text>
</g>
<!-- create_email_category_enum&#45;&gt;Enum -->
<g id="edge70" class="edge">
<title>create_email_category_enum&#45;&gt;Enum</title>
<path fill="none" stroke="black" d="M1932.6,-147.32C1926.46,-138.8 1919.09,-128.59 1912.41,-119.32"/>
<polygon fill="black" stroke="black" points="1915.34,-117.39 1906.65,-111.33 1909.66,-121.49 1915.34,-117.39"/>
</g>
<!-- _create_system_prompt -->
<g id="node7" class="node">
<title>_create_system_prompt</title>
<g id="a_node7"><a xlink:title="Create the system prompt for the OpenAI API.">
<polygon fill="lightblue" stroke="black" points="2224.38,-187 2062.12,-187 2062.12,-147.5 2224.38,-147.5 2224.38,-187"/>
<text text-anchor="middle" x="2143.25" y="-169.7" font-family="Arial" font-size="14.00">_create_system_prompt</text>
<text text-anchor="middle" x="2143.25" y="-153.95" font-family="Arial" font-size="14.00">(self, categories)</text>
</a>
</g>
</g>
<!-- _prepare_category_info -->
<g id="node14" class="node">
<title>_prepare_category_info</title>
<g id="a_node14"><a xlink:title="Extract category information.">
<polygon fill="lightblue" stroke="black" points="1722.5,-355 1564,-355 1564,-315.5 1722.5,-315.5 1722.5,-355"/>
<text text-anchor="middle" x="1643.25" y="-337.7" font-family="Arial" font-size="14.00">_prepare_category_info</text>
<text text-anchor="middle" x="1643.25" y="-321.95" font-family="Arial" font-size="14.00">(self, categories)</text>
</a>
</g>
</g>
<!-- _create_system_prompt&#45;&gt;_prepare_category_info -->
<g id="edge25" class="edge">
<title>_create_system_prompt&#45;&gt;_prepare_category_info</title>
<path fill="none" stroke="black" d="M2147.33,-187.38C2152.57,-217.8 2157.42,-276.88 2124.25,-307.5 2110.16,-320.5 1869.53,-328.6 1734.08,-332.15"/>
<polygon fill="black" stroke="black" points="1734.34,-328.64 1724.43,-332.4 1734.52,-335.64 1734.34,-328.64"/>
</g>
<!-- dumps -->
<g id="node29" class="node">
<title>dumps</title>
<polygon fill="lightblue" stroke="black" points="2113.88,-109.75 2056.62,-109.75 2056.62,-73.75 2113.88,-73.75 2113.88,-109.75"/>
<text text-anchor="middle" x="2085.25" y="-86.33" font-family="Arial" font-size="14.00">dumps</text>
</g>
<!-- _create_system_prompt&#45;&gt;dumps -->
<g id="edge26" class="edge">
<title>_create_system_prompt&#45;&gt;dumps</title>
<path fill="none" stroke="black" d="M2128.31,-147.32C2121.52,-138.71 2113.36,-128.37 2105.98,-119.02"/>
<polygon fill="black" stroke="black" points="2108.82,-116.97 2099.88,-111.29 2103.33,-121.31 2108.82,-116.97"/>
</g>
<!-- join -->
<g id="node30" class="node">
<title>join</title>
<polygon fill="lightblue" stroke="black" points="2186.25,-109.75 2132.25,-109.75 2132.25,-73.75 2186.25,-73.75 2186.25,-109.75"/>
<text text-anchor="middle" x="2159.25" y="-86.33" font-family="Arial" font-size="14.00">join</text>
</g>
<!-- _create_system_prompt&#45;&gt;join -->
<g id="edge27" class="edge">
<title>_create_system_prompt&#45;&gt;join</title>
<path fill="none" stroke="black" d="M2147.37,-147.32C2149.11,-139.34 2151.17,-129.87 2153.08,-121.08"/>
<polygon fill="black" stroke="black" points="2156.44,-122.1 2155.15,-111.58 2149.6,-120.61 2156.44,-122.1"/>
</g>
<!-- _parse_response -->
<g id="node8" class="node">
<title>_parse_response</title>
<g id="a_node8"><a xlink:title="Parse the OpenAI API response.">
<polygon fill="lightblue" stroke="black" points="2528.25,-187 2248.25,-187 2248.25,-147.5 2528.25,-147.5 2528.25,-187"/>
<text text-anchor="middle" x="2388.25" y="-169.7" font-family="Arial" font-size="14.00">_parse_response</text>
<text text-anchor="middle" x="2388.25" y="-153.95" font-family="Arial" font-size="14.00">(self, response_text, categories, batch_size)</text>
</a>
</g>
</g>
<!-- _validate_category -->
<g id="node9" class="node">
<title>_validate_category</title>
<g id="a_node9"><a xlink:title="Validate and normalize a category in a result.">
<polygon fill="lightblue" stroke="black" points="2440,-111.5 2248.5,-111.5 2248.5,-72 2440,-72 2440,-111.5"/>
<text text-anchor="middle" x="2344.25" y="-94.2" font-family="Arial" font-size="14.00">_validate_category</text>
<text text-anchor="middle" x="2344.25" y="-78.45" font-family="Arial" font-size="14.00">(self, result, valid_categories)</text>
</a>
</g>
</g>
<!-- _parse_response&#45;&gt;_validate_category -->
<g id="edge45" class="edge">
<title>_parse_response&#45;&gt;_validate_category</title>
<path fill="none" stroke="black" d="M2376.92,-147.32C2372.23,-139.5 2366.7,-130.25 2361.53,-121.61"/>
<polygon fill="black" stroke="black" points="2364.61,-119.95 2356.47,-113.17 2358.61,-123.55 2364.61,-119.95"/>
</g>
<!-- _parse_json_object -->
<g id="node10" class="node">
<title>_parse_json_object</title>
<g id="a_node10"><a xlink:title="Parse a JSON object string.">
<polygon fill="lightblue" stroke="black" points="2590.75,-111.5 2457.75,-111.5 2457.75,-72 2590.75,-72 2590.75,-111.5"/>
<text text-anchor="middle" x="2524.25" y="-94.2" font-family="Arial" font-size="14.00">_parse_json_object</text>
<text text-anchor="middle" x="2524.25" y="-78.45" font-family="Arial" font-size="14.00">(self, json_str)</text>
</a>
</g>
</g>
<!-- _parse_response&#45;&gt;_parse_json_object -->
<g id="edge44" class="edge">
<title>_parse_response&#45;&gt;_parse_json_object</title>
<path fill="none" stroke="black" d="M2423.63,-147.13C2440.55,-137.99 2461,-126.93 2479.04,-117.18"/>
<polygon fill="black" stroke="black" points="2480.58,-120.33 2487.72,-112.49 2477.26,-114.17 2480.58,-120.33"/>
</g>
<!-- _extract_json_objects -->
<g id="node11" class="node">
<title>_extract_json_objects</title>
<g id="a_node11"><a xlink:title="Extract JSON objects from a text response.">
<polygon fill="lightblue" stroke="black" points="2755.5,-111.5 2609,-111.5 2609,-72 2755.5,-72 2755.5,-111.5"/>
<text text-anchor="middle" x="2682.25" y="-94.2" font-family="Arial" font-size="14.00">_extract_json_objects</text>
<text text-anchor="middle" x="2682.25" y="-78.45" font-family="Arial" font-size="14.00">(self, response_text)</text>
</a>
</g>
</g>
<!-- _parse_response&#45;&gt;_extract_json_objects -->
<g id="edge42" class="edge">
<title>_parse_response&#45;&gt;_extract_json_objects</title>
<path fill="none" stroke="black" d="M2465.11,-147.03C2505.8,-136.86 2555.84,-124.35 2597.63,-113.9"/>
<polygon fill="black" stroke="black" points="2598.3,-117.34 2607.16,-111.52 2596.61,-110.55 2598.3,-117.34"/>
</g>
<!-- _parse_response&#45;&gt;upper -->
<g id="edge43" class="edge">
<title>_parse_response&#45;&gt;upper</title>
<path fill="none" stroke="black" d="M2315.24,-147.06C2289.93,-138.48 2262.18,-126.78 2239.25,-111.5 2215.3,-95.54 2218.79,-80.55 2195.25,-64 2174.59,-49.48 2148.52,-38.34 2127.4,-30.77"/>
<polygon fill="black" stroke="black" points="2128.58,-27.47 2117.98,-27.53 2126.3,-34.09 2128.58,-27.47"/>
</g>
<!-- _parse_response&#45;&gt;error -->
<g id="edge47" class="edge">
<title>_parse_response&#45;&gt;error</title>
<path fill="none" stroke="black" d="M2282.82,-147.04C2264.32,-144.02 2245.25,-141.31 2227.25,-139.5 2110.96,-127.82 1307.49,-140.83 1153.77,-112.53"/>
<polygon fill="black" stroke="black" points="1154.74,-109.15 1144.22,-110.46 1153.25,-116 1154.74,-109.15"/>
</g>
<!-- _parse_response&#45;&gt;error -->
<g id="edge49" class="edge">
<title>_parse_response&#45;&gt;error</title>
<path fill="none" stroke="black" d="M2300.49,-147.04C2282.32,-144.02 2263.25,-141.31 2245.25,-139.5 2125.81,-127.51 1281.47,-141.55 1165.25,-111.5 1162.87,-110.88 1160.46,-110.09 1158.07,-109.17"/>
<polygon fill="black" stroke="black" points="1159.63,-106.03 1149.07,-105.18 1156.79,-112.43 1159.63,-106.03"/>
</g>
<!-- append -->
<g id="node27" class="node">
<title>append</title>
<polygon fill="lightblue" stroke="black" points="2834.75,-109.75 2773.75,-109.75 2773.75,-73.75 2834.75,-73.75 2834.75,-109.75"/>
<text text-anchor="middle" x="2804.25" y="-86.33" font-family="Arial" font-size="14.00">append</text>
</g>
<!-- _parse_response&#45;&gt;append -->
<g id="edge46" class="edge">
<title>_parse_response&#45;&gt;append</title>
<path fill="none" stroke="black" d="M2528.31,-155.18C2596.11,-147.35 2677.94,-134.05 2749.25,-111.5 2753.78,-110.07 2758.42,-108.13 2763.14,-106.04"/>
<polygon fill="black" stroke="black" points="2764.47,-109.28 2772.16,-101.99 2761.6,-102.9 2764.47,-109.28"/>
</g>
<!-- _parse_response&#45;&gt;append -->
<g id="edge48" class="edge">
<title>_parse_response&#45;&gt;append</title>
<path fill="none" stroke="black" d="M2528.39,-156.96C2597.83,-149.75 2682.59,-137.01 2762.71,-112.62"/>
<polygon fill="black" stroke="black" points="2763.52,-116.03 2772.03,-109.72 2761.44,-109.35 2763.52,-116.03"/>
</g>
<!-- _parse_response&#45;&gt;append -->
<g id="edge51" class="edge">
<title>_parse_response&#45;&gt;append</title>
<path fill="none" stroke="black" d="M2528.62,-158.49C2602.78,-151.62 2694.6,-138.75 2778.05,-113.6"/>
<polygon fill="black" stroke="black" points="2779.01,-116.97 2787.53,-110.67 2776.94,-110.28 2779.01,-116.97"/>
</g>
<!-- len -->
<g id="node37" class="node">
<title>len</title>
<polygon fill="lightblue" stroke="black" points="1331.25,-109.75 1277.25,-109.75 1277.25,-73.75 1331.25,-73.75 1331.25,-109.75"/>
<text text-anchor="middle" x="1304.25" y="-86.33" font-family="Arial" font-size="14.00">len</text>
</g>
<!-- _parse_response&#45;&gt;len -->
<g id="edge50" class="edge">
<title>_parse_response&#45;&gt;len</title>
<path fill="none" stroke="black" d="M2290.82,-147.05C2272.74,-144.07 2253.97,-141.37 2236.25,-139.5 1890.83,-103.09 1801.48,-139.15 1455.25,-111.5 1417.01,-108.45 1373.56,-102.82 1343.12,-98.53"/>
<polygon fill="black" stroke="black" points="1343.62,-95.06 1333.23,-97.11 1342.63,-101.99 1343.62,-95.06"/>
</g>
<!-- _validate_category&#45;&gt;upper -->
<g id="edge40" class="edge">
<title>_validate_category&#45;&gt;upper</title>
<path fill="none" stroke="black" d="M2275.91,-71.52C2228.38,-58.15 2166.75,-40.81 2127.59,-29.79"/>
<polygon fill="black" stroke="black" points="2128.72,-26.47 2118.14,-27.13 2126.82,-33.21 2128.72,-26.47"/>
</g>
<!-- warning -->
<g id="node36" class="node">
<title>warning</title>
<polygon fill="lightblue" stroke="black" points="2375.88,-36 2312.62,-36 2312.62,0 2375.88,0 2375.88,-36"/>
<text text-anchor="middle" x="2344.25" y="-12.57" font-family="Arial" font-size="14.00">warning</text>
</g>
<!-- _validate_category&#45;&gt;warning -->
<g id="edge41" class="edge">
<title>_validate_category&#45;&gt;warning</title>
<path fill="none" stroke="black" d="M2344.25,-71.52C2344.25,-64.25 2344.25,-55.79 2344.25,-47.83"/>
<polygon fill="black" stroke="black" points="2347.75,-47.83 2344.25,-37.83 2340.75,-47.83 2347.75,-47.83"/>
</g>
<!-- loads -->
<g id="node35" class="node">
<title>loads</title>
<polygon fill="lightblue" stroke="black" points="2551.25,-36 2497.25,-36 2497.25,0 2551.25,0 2551.25,-36"/>
<text text-anchor="middle" x="2524.25" y="-12.57" font-family="Arial" font-size="14.00">loads</text>
</g>
<!-- _parse_json_object&#45;&gt;loads -->
<g id="edge39" class="edge">
<title>_parse_json_object&#45;&gt;loads</title>
<path fill="none" stroke="black" d="M2524.25,-71.52C2524.25,-64.25 2524.25,-55.79 2524.25,-47.83"/>
<polygon fill="black" stroke="black" points="2527.75,-47.83 2524.25,-37.83 2520.75,-47.83 2527.75,-47.83"/>
</g>
<!-- findall -->
<g id="node34" class="node">
<title>findall</title>
<polygon fill="lightblue" stroke="black" points="2709.25,-36 2655.25,-36 2655.25,0 2709.25,0 2709.25,-36"/>
<text text-anchor="middle" x="2682.25" y="-12.57" font-family="Arial" font-size="14.00">findall</text>
</g>
<!-- _extract_json_objects&#45;&gt;findall -->
<g id="edge38" class="edge">
<title>_extract_json_objects&#45;&gt;findall</title>
<path fill="none" stroke="black" d="M2682.25,-71.52C2682.25,-64.25 2682.25,-55.79 2682.25,-47.83"/>
<polygon fill="black" stroke="black" points="2685.75,-47.83 2682.25,-37.83 2678.75,-47.83 2685.75,-47.83"/>
</g>
<!-- __str__ -->
<g id="node12" class="node">
<title>__str__</title>
<polygon fill="lightblue" stroke="black" points="1283.75,-355 1222.75,-355 1222.75,-315.5 1283.75,-315.5 1283.75,-355"/>
<text text-anchor="middle" x="1253.25" y="-337.7" font-family="Arial" font-size="14.00">__str__</text>
<text text-anchor="middle" x="1253.25" y="-321.95" font-family="Arial" font-size="14.00">(self)</text>
</g>
<!-- capitalize -->
<g id="node42" class="node">
<title>capitalize</title>
<polygon fill="lightblue" stroke="black" points="1810.38,-273.25 1738.12,-273.25 1738.12,-237.25 1810.38,-237.25 1810.38,-273.25"/>
<text text-anchor="middle" x="1774.25" y="-249.82" font-family="Arial" font-size="14.00">capitalize</text>
</g>
<!-- __str__&#45;&gt;capitalize -->
<g id="edge71" class="edge">
<title>__str__&#45;&gt;capitalize</title>
<path fill="none" stroke="black" d="M1284.24,-318.21C1287.23,-317.13 1290.26,-316.19 1293.25,-315.5 1317.12,-309.96 1712.33,-318.45 1734.25,-307.5 1744.82,-302.22 1753.43,-292.7 1759.92,-283.28"/>
<polygon fill="black" stroke="black" points="1762.78,-285.3 1765.1,-274.96 1756.84,-281.6 1762.78,-285.3"/>
</g>
<!-- batch_categorize_emails_for_account -->
<g id="node13" class="node">
<title>batch_categorize_emails_for_account</title>
<g id="a_node13"><a xlink:title="Categorize emails for an account (backward compatibility).">
<polygon fill="lightblue" stroke="black" points="1546.25,-355 1302.25,-355 1302.25,-315.5 1546.25,-315.5 1546.25,-355"/>
<text text-anchor="middle" x="1424.25" y="-337.7" font-family="Arial" font-size="14.00">batch_categorize_emails_for_account</text>
<text text-anchor="middle" x="1424.25" y="-321.95" font-family="Arial" font-size="14.00">(emails, account, batch_size, model)</text>
</a>
</g>
</g>
<!-- categorize_emails -->
<g id="node15" class="node">
<title>categorize_emails</title>
<g id="a_node15"><a xlink:title="Categorize a batch of emails.">
<polygon fill="lightblue" stroke="black" points="1385.75,-275 1222.75,-275 1222.75,-235.5 1385.75,-235.5 1385.75,-275"/>
<text text-anchor="middle" x="1304.25" y="-257.7" font-family="Arial" font-size="14.00">categorize_emails</text>
<text text-anchor="middle" x="1304.25" y="-241.95" font-family="Arial" font-size="14.00">(self, emails, categories)</text>
</a>
</g>
</g>
<!-- batch_categorize_emails_for_account&#45;&gt;categorize_emails -->
<g id="edge78" class="edge">
<title>batch_categorize_emails_for_account&#45;&gt;categorize_emails</title>
<path fill="none" stroke="black" d="M1394.89,-315.17C1379.35,-305.06 1360.05,-292.52 1343.27,-281.61"/>
<polygon fill="black" stroke="black" points="1345.28,-278.74 1334.99,-276.23 1341.46,-284.61 1345.28,-278.74"/>
</g>
<!-- batch_categorize_emails_for_account&#45;&gt;CategorizerConfig -->
<g id="edge74" class="edge">
<title>batch_categorize_emails_for_account&#45;&gt;CategorizerConfig</title>
<path fill="none" stroke="black" d="M1546.58,-316.27C1549.49,-315.99 1552.39,-315.74 1555.25,-315.5 1565.02,-314.69 1901.39,-314.51 1908.25,-307.5 1933.11,-282.08 1933.29,-252.75 1908.25,-227.5 1898.92,-218.09 966.85,-223.59 954.25,-219.5 937.57,-214.09 921.44,-203.3 908.69,-193.01"/>
<polygon fill="black" stroke="black" points="911.09,-190.46 901.19,-186.67 906.56,-195.8 911.09,-190.46"/>
</g>
<!-- batch_categorize_emails_for_account&#45;&gt;append -->
<g id="edge75" class="edge">
<title>batch_categorize_emails_for_account&#45;&gt;append</title>
<path fill="none" stroke="black" d="M1546.57,-316.26C1549.49,-315.99 1552.39,-315.73 1555.25,-315.5 1577.9,-313.66 1943.13,-315.9 1964.25,-307.5 2013.36,-287.96 2003.06,-246.84 2052.25,-227.5 2070.74,-220.23 2751.43,-231.5 2767.25,-219.5 2775.23,-213.45 2789.55,-156.6 2797.85,-121.12"/>
<polygon fill="black" stroke="black" points="2801.23,-122.02 2800.07,-111.49 2794.41,-120.45 2801.23,-122.02"/>
</g>
<!-- getattr -->
<g id="node28" class="node">
<title>getattr</title>
<polygon fill="lightblue" stroke="black" points="2115.38,-273.25 2061.12,-273.25 2061.12,-237.25 2115.38,-237.25 2115.38,-273.25"/>
<text text-anchor="middle" x="2088.25" y="-249.82" font-family="Arial" font-size="14.00">getattr</text>
</g>
<!-- batch_categorize_emails_for_account&#45;&gt;getattr -->
<g id="edge77" class="edge">
<title>batch_categorize_emails_for_account&#45;&gt;getattr</title>
<path fill="none" stroke="black" d="M1546.57,-316.25C1549.49,-315.98 1552.39,-315.73 1555.25,-315.5 1582.5,-313.34 2022.71,-319.54 2047.25,-307.5 2057.95,-302.25 2066.76,-292.73 2073.43,-283.3"/>
<polygon fill="black" stroke="black" points="2076.32,-285.28 2078.78,-274.97 2070.43,-281.5 2076.32,-285.28"/>
</g>
<!-- batch_categorize_emails_for_account&#45;&gt;EmailCategorizer -->
<g id="edge73" class="edge">
<title>batch_categorize_emails_for_account&#45;&gt;EmailCategorizer</title>
<path fill="none" stroke="black" d="M1546.57,-316.26C1549.49,-315.99 1552.39,-315.73 1555.25,-315.5 1565.94,-314.63 1933.75,-315.16 1941.25,-307.5 1966.13,-282.1 1966.25,-252.78 1941.25,-227.5 1934.05,-220.22 1214.38,-220.96 1204.25,-219.5 1162.65,-213.49 1117.14,-200.58 1082.16,-189.21"/>
<polygon fill="black" stroke="black" points="1083.69,-186.03 1073.09,-186.22 1081.49,-192.68 1083.69,-186.03"/>
</g>
<!-- Category -->
<g id="node44" class="node">
<title>Category</title>
<polygon fill="lightblue" stroke="black" points="1899.62,-273.25 1828.88,-273.25 1828.88,-237.25 1899.62,-237.25 1899.62,-273.25"/>
<text text-anchor="middle" x="1864.25" y="-249.82" font-family="Arial" font-size="14.00">Category</text>
</g>
<!-- batch_categorize_emails_for_account&#45;&gt;Category -->
<g id="edge76" class="edge">
<title>batch_categorize_emails_for_account&#45;&gt;Category</title>
<path fill="none" stroke="black" d="M1546.58,-316.3C1549.49,-316.02 1552.39,-315.75 1555.25,-315.5 1584.49,-312.97 1792.7,-320.01 1819.25,-307.5 1830.58,-302.16 1840.23,-292.49 1847.65,-282.97"/>
<polygon fill="black" stroke="black" points="1850.45,-285.07 1853.43,-274.91 1844.76,-281 1850.45,-285.07"/>
</g>
<!-- _prepare_category_info&#45;&gt;append -->
<g id="edge23" class="edge">
<title>_prepare_category_info&#45;&gt;append</title>
<path fill="none" stroke="black" d="M1722.77,-332.26C1971.4,-325.24 2721.98,-297.69 2795.25,-219.5 2819.64,-193.47 2816.81,-149.74 2811.41,-121.07"/>
<polygon fill="black" stroke="black" points="2814.91,-120.7 2809.42,-111.64 2808.06,-122.15 2814.91,-120.7"/>
</g>
<!-- _prepare_category_info&#45;&gt;getattr -->
<g id="edge24" class="edge">
<title>_prepare_category_info&#45;&gt;getattr</title>
<path fill="none" stroke="black" d="M1722.88,-332.41C1832.44,-329.35 2019.33,-322.08 2047.25,-307.5 2057.75,-302.02 2066.48,-292.55 2073.14,-283.22"/>
<polygon fill="black" stroke="black" points="2075.97,-285.29 2078.51,-275 2070.11,-281.47 2075.97,-285.29"/>
</g>
<!-- categorize_emails&#45;&gt;_call_api -->
<g id="edge56" class="edge">
<title>categorize_emails&#45;&gt;_call_api</title>
<path fill="none" stroke="black" d="M1222.49,-252.5C1088.66,-249.09 828.76,-240.01 739.25,-219.5 712.9,-213.46 684.94,-202.47 662.16,-192.22"/>
<polygon fill="black" stroke="black" points="663.68,-189.06 653.13,-188.05 660.75,-195.42 663.68,-189.06"/>
</g>
<!-- categorize_emails&#45;&gt;_create_user_prompt -->
<g id="edge55" class="edge">
<title>categorize_emails&#45;&gt;_create_user_prompt</title>
<path fill="none" stroke="black" d="M1386.2,-249.82C1473.32,-244.45 1605.07,-234.24 1653.25,-219.5 1673.17,-213.4 1693.71,-202.94 1710.57,-193.04"/>
<polygon fill="black" stroke="black" points="1711.99,-196.27 1718.74,-188.11 1708.37,-190.28 1711.99,-196.27"/>
</g>
<!-- categorize_emails&#45;&gt;_create_system_prompt -->
<g id="edge54" class="edge">
<title>categorize_emails&#45;&gt;_create_system_prompt</title>
<path fill="none" stroke="black" d="M1386.07,-248.17C1471.61,-242.03 1609.78,-232.73 1729.25,-227.5 1765.23,-225.92 2018.55,-229.15 2053.25,-219.5 2072.62,-214.12 2092.23,-203.66 2108.19,-193.59"/>
<polygon fill="black" stroke="black" points="2109.9,-196.65 2116.35,-188.25 2106.06,-190.8 2109.9,-196.65"/>
</g>
<!-- categorize_emails&#45;&gt;_parse_response -->
<g id="edge57" class="edge">
<title>categorize_emails&#45;&gt;_parse_response</title>
<path fill="none" stroke="black" d="M1386.06,-247.95C1471.6,-241.64 1609.76,-232.2 1729.25,-227.5 1785.55,-225.29 2180.73,-229.06 2236.25,-219.5 2269.23,-213.82 2304.73,-202.19 2333.13,-191.43"/>
<polygon fill="black" stroke="black" points="2334.16,-194.78 2342.23,-187.92 2331.64,-188.26 2334.16,-194.78"/>
</g>
<!-- _log_interaction -->
<g id="node16" class="node">
<title>_log_interaction</title>
<g id="a_node16"><a xlink:title="Log OpenAI API interaction for debugging.">
<polygon fill="lightblue" stroke="black" points="1641,-187 1341.5,-187 1341.5,-147.5 1641,-147.5 1641,-187"/>
<text text-anchor="middle" x="1491.25" y="-169.7" font-family="Arial" font-size="14.00">_log_interaction</text>
<text text-anchor="middle" x="1491.25" y="-153.95" font-family="Arial" font-size="14.00">(self, email, prompt, response, category_result)</text>
</a>
</g>
</g>
<!-- categorize_emails&#45;&gt;_log_interaction -->
<g id="edge60" class="edge">
<title>categorize_emails&#45;&gt;_log_interaction</title>
<path fill="none" stroke="black" d="M1340.03,-235.16C1366.43,-222.46 1402.8,-205.67 1433.3,-192.09"/>
<polygon fill="black" stroke="black" points="1434.7,-195.29 1442.43,-188.04 1431.87,-188.89 1434.7,-195.29"/>
</g>
<!-- categorize_emails&#45;&gt;_log_interaction -->
<g id="edge64" class="edge">
<title>categorize_emails&#45;&gt;_log_interaction</title>
<path fill="none" stroke="black" d="M1351.47,-235.16C1380.2,-222.51 1416.64,-205.82 1445.15,-192.27"/>
<polygon fill="black" stroke="black" points="1446.39,-195.55 1453.91,-188.08 1443.37,-189.24 1446.39,-195.55"/>
</g>
<!-- categorize_emails&#45;&gt;error -->
<g id="edge61" class="edge">
<title>categorize_emails&#45;&gt;error</title>
<path fill="none" stroke="black" d="M1222.35,-242.56C1206.09,-237.45 1190.11,-230.08 1177.25,-219.5 1146.1,-193.87 1127.9,-149.66 1121.06,-120.82"/>
<polygon fill="black" stroke="black" points="1124.56,-120.47 1119.18,-111.35 1117.7,-121.84 1124.56,-120.47"/>
</g>
<!-- categorize_emails&#45;&gt;error -->
<g id="edge66" class="edge">
<title>categorize_emails&#45;&gt;error</title>
<path fill="none" stroke="black" d="M1222.35,-235.87C1212.64,-231.53 1203.33,-226.15 1195.25,-219.5 1163.96,-193.75 1145.73,-149.27 1134.3,-120.44"/>
<polygon fill="black" stroke="black" points="1137.6,-119.26 1130.65,-111.27 1131.1,-121.85 1137.6,-119.26"/>
</g>
<!-- categorize_emails&#45;&gt;enumerate -->
<g id="edge58" class="edge">
<title>categorize_emails&#45;&gt;enumerate</title>
<path fill="none" stroke="black" d="M1222.27,-240.99C1211.57,-235.94 1202.01,-229.01 1195.25,-219.5 1174.85,-190.81 1180.72,-148.49 1190.2,-120.77"/>
<polygon fill="black" stroke="black" points="1193.39,-122.22 1193.72,-111.63 1186.86,-119.7 1193.39,-122.22"/>
</g>
<!-- categorize_emails&#45;&gt;enumerate -->
<g id="edge63" class="edge">
<title>categorize_emails&#45;&gt;enumerate</title>
<path fill="none" stroke="black" d="M1229.78,-235.19C1223.42,-230.95 1217.72,-225.79 1213.25,-219.5 1193.03,-191.07 1198.62,-149.24 1203.67,-121.51"/>
<polygon fill="black" stroke="black" points="1207.11,-122.18 1205.51,-111.7 1200.23,-120.89 1207.11,-122.18"/>
</g>
<!-- categorize_emails&#45;&gt;len -->
<g id="edge53" class="edge">
<title>categorize_emails&#45;&gt;len</title>
<path fill="none" stroke="black" d="M1299.7,-235.09C1297.03,-206.81 1296.79,-153.72 1298.98,-120.98"/>
<polygon fill="black" stroke="black" points="1302.43,-121.69 1299.77,-111.43 1295.45,-121.11 1302.43,-121.69"/>
</g>
<!-- categorize_emails&#45;&gt;len -->
<g id="edge59" class="edge">
<title>categorize_emails&#45;&gt;len</title>
<path fill="none" stroke="black" d="M1308.8,-235.09C1311.47,-206.81 1311.71,-153.72 1309.52,-120.98"/>
<polygon fill="black" stroke="black" points="1313.05,-121.11 1308.73,-111.43 1306.07,-121.69 1313.05,-121.11"/>
</g>
<!-- min -->
<g id="node38" class="node">
<title>min</title>
<polygon fill="lightblue" stroke="black" points="1267.25,-185.25 1213.25,-185.25 1213.25,-149.25 1267.25,-149.25 1267.25,-185.25"/>
<text text-anchor="middle" x="1240.25" y="-161.82" font-family="Arial" font-size="14.00">min</text>
</g>
<!-- categorize_emails&#45;&gt;min -->
<g id="edge52" class="edge">
<title>categorize_emails&#45;&gt;min</title>
<path fill="none" stroke="black" d="M1290.05,-235.16C1281.16,-223.22 1269.58,-207.66 1259.83,-194.55"/>
<polygon fill="black" stroke="black" points="1262.79,-192.68 1254.01,-186.74 1257.18,-196.86 1262.79,-192.68"/>
</g>
<!-- str -->
<g id="node39" class="node">
<title>str</title>
<polygon fill="lightblue" stroke="black" points="802.25,-185.25 748.25,-185.25 748.25,-149.25 802.25,-149.25 802.25,-185.25"/>
<text text-anchor="middle" x="775.25" y="-161.82" font-family="Arial" font-size="14.00">str</text>
</g>
<!-- categorize_emails&#45;&gt;str -->
<g id="edge62" class="edge">
<title>categorize_emails&#45;&gt;str</title>
<path fill="none" stroke="black" d="M1222.48,-252.59C1087.14,-249.13 829.01,-239.71 793.25,-219.5 783.83,-214.18 776.29,-205.24 771.65,-196.32"/>
<polygon fill="black" stroke="black" points="774.95,-195.13 768.06,-187.08 768.43,-197.67 774.95,-195.13"/>
</g>
<!-- categorize_emails&#45;&gt;str -->
<g id="edge65" class="edge">
<title>categorize_emails&#45;&gt;str</title>
<path fill="none" stroke="black" d="M1222.41,-252.3C1091.48,-248.62 846.05,-239.17 811.25,-219.5 801.52,-214 793.8,-204.65 788.04,-195.43"/>
<polygon fill="black" stroke="black" points="791.25,-194 783.3,-186.99 785.14,-197.42 791.25,-194"/>
</g>
<!-- categorize_emails&#45;&gt;str -->
<g id="edge67" class="edge">
<title>categorize_emails&#45;&gt;str</title>
<path fill="none" stroke="black" d="M1222.44,-251.97C1095.5,-248.06 863.05,-238.6 829.25,-219.5 819.31,-213.88 811.47,-204.25 804.43,-194.84"/>
<polygon fill="black" stroke="black" points="807.29,-192.83 798.52,-186.88 801.67,-197 807.29,-192.83"/>
</g>
<!-- _log_interaction&#45;&gt;get -->
<g id="edge19" class="edge">
<title>_log_interaction&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1522.16,-147.13C1549.54,-133.85 1588.91,-116.56 1618.2,-105.07"/>
<polygon fill="black" stroke="black" points="1619.39,-108.37 1627.47,-101.52 1616.88,-101.83 1619.39,-108.37"/>
</g>
<!-- _log_interaction&#45;&gt;get -->
<g id="edge20" class="edge">
<title>_log_interaction&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1534.17,-147.13C1560.41,-135.44 1593.64,-120.64 1618.8,-109.43"/>
<polygon fill="black" stroke="black" points="1619.96,-112.75 1627.67,-105.48 1617.11,-106.35 1619.96,-112.75"/>
</g>
<!-- _log_interaction&#45;&gt;get -->
<g id="edge21" class="edge">
<title>_log_interaction&#45;&gt;get</title>
<path fill="none" stroke="black" d="M1546.18,-147.13C1570.05,-137.3 1597.25,-125.26 1618.8,-115.01"/>
<polygon fill="black" stroke="black" points="1620.04,-118.3 1627.52,-110.8 1617,-111.99 1620.04,-118.3"/>
</g>
<!-- _log_interaction&#45;&gt;error -->
<g id="edge22" class="edge">
<title>_log_interaction&#45;&gt;error</title>
<path fill="none" stroke="black" d="M1345.32,-147.04C1277.63,-137.28 1203.76,-125.19 1158.3,-111.52"/>
<polygon fill="black" stroke="black" points="1159.4,-108.2 1148.81,-108.48 1157.26,-114.87 1159.4,-108.2"/>
</g>
<!-- info -->
<g id="node26" class="node">
<title>info</title>
<polygon fill="lightblue" stroke="black" points="1518.25,-109.75 1464.25,-109.75 1464.25,-73.75 1518.25,-73.75 1518.25,-109.75"/>
<text text-anchor="middle" x="1491.25" y="-86.33" font-family="Arial" font-size="14.00">info</text>
</g>
<!-- _log_interaction&#45;&gt;info -->
<g id="edge18" class="edge">
<title>_log_interaction&#45;&gt;info</title>
<path fill="none" stroke="black" d="M1491.25,-147.32C1491.25,-139.43 1491.25,-130.08 1491.25,-121.38"/>
<polygon fill="black" stroke="black" points="1494.75,-121.62 1491.25,-111.62 1487.75,-121.62 1494.75,-121.62"/>
</g>
</g>
</svg>
